# yaml-language-server: $schema=./schema.json
version: "2.0.0"
general:
  registers:
    Manufacturer_ID:
      name: "Manufacturer ID"
      address: 0
      ValueType: "uint16"
      description: "Unique identifier of the manufacturer."
    Modbus_Version:
      name: "Modbus Version"
      address: 1
      ValueType: char[16]
      description: "Modbus protocol version, as a string in semantic versioning format. This field may not change between versions of the protocol."
    Hardware_Name:
      name: "Hardware Name"
      address: auto
      ValueType: char[16]
      description: "Name of the iRock hardware. Options include: `iRock 200`, `iRock 300`, `iRock 400`, `iRock 212` or `iRock 424`."
    Hardware_Version:
      name: "Hardware Version"
      address: auto
      ValueType: char[8]
      description: "Version identifier of the hardware, as a string in float format."
    Serial_Number:
      name: "Serial Number"
      address: auto
      ValueType: char[12]
      description: "Unique serial number of the iRock control board."
    SW_Version:
      name: "Software Version"
      address: auto
      ValueType: char[16]
      description: "Software version currently installed, as a string in semantic versioning format."
    Number_of_Cells:
      name: "Number of Cells"
      address: auto
      ValueType: uint16
      description: "Number of battery cells in the system. May be any number between 2 and 24."
    Battery_Voltage:
      name: "Battery Voltage"
      address: auto
      ValueType: float32
      description: "Total voltage of the battery pack."
      unit: "V"
    Battery_Current:
      name: "Battery Current"
      address: auto
      ValueType: float32
      description: "Current flowing in or out of the battery. Positive values indicate charging, negative values indicate discharging."
      unit: "A"
      hardware_support_register: auto
    Battery_SOC:
      name: "SOC"
      address: auto
      ValueType: float32
      description: "State of Charge (SOC) of the battery."
      unit: "%"
      hardware_support_register: auto
    Capacity:
      name: "Capacity"
      address: auto
      ValueType: float32
      description: "Total capacity of the battery pack."
      unit: "Ah"
    Remaining_Capacity:
      name: "Remaining Capacity"
      address: auto
      ValueType: float32
      description: "Remaining available capacity in the battery pack."
      unit: "Ah"
      hardware_support_register: auto
    Max_Charge_Current:
      name: "Max Charge Current"
      address: auto
      ValueType: float32
      description: "Maximum current the battery can accept."
      unit: "A"
    Max_Discharge_Current:
      name: "Max Discharge Current"
      address: auto
      ValueType: float32
      description: "Maximum current the battery can deliver."
      unit: "A"
    Max_Cell_Voltage:
      name: "Max Cell Voltage"
      address: auto
      ValueType: float32
      description: "Maximum voltage recorded for any single cell."
      unit: "V"
    Min_Cell_Voltage:
      name: "Min Cell Voltage"
      address: auto
      ValueType: float32
      description: "Minimum voltage recorded for any single cell."
      unit: "V"
    Temperature_Sensor_1:
      name: "Temperature Sensor 1"
      address: auto
      ValueType: float32
      description: "Temperature reading from sensor 1."
      unit: "°C"
      hardware_support_register: auto
    Temperature_Sensor_2:
      name: "Temperature Sensor 2"
      address: auto
      ValueType: float32
      description: "Temperature reading from sensor 2."
      unit: "°C"
      hardware_support_register: auto
    Temperature_Sensor_3:
      name: "Temperature Sensor 3"
      address: auto
      ValueType: float32
      description: "Temperature reading from sensor 3."
      unit: "°C"
      hardware_support_register: auto
    Temperature_Sensor_4:
      name: "Temperature Sensor 4"
      address: auto
      ValueType: float32
      description: "Temperature reading from sensor 4."
      unit: "°C"
      hardware_support_register: auto
    MOSFET_Temperature:
      name: "MOSFET Temperature"
      address: auto
      ValueType: float32
      description: "MOSFET temperature sensor reading."
      unit: "°C"
      hardware_support_register: auto
    Feedback_Shunt_Current:
      name: "Feedback Shunt Current"
      address: auto
      ValueType: float32
      description: "Current flowing through the feedback shunt. The feedback shunt messures the current of all ballancers in sum."
      unit: "A"
      hardware_support_register: auto
    Charge_FET:
      name: "Charge FET"
      address: auto
      ValueType: bool
      description: "Boolean indicating if the charge FET is active. `true` indicates active, `false` indicates inactive."
    Discharge_FET:
      name: "Discharge FET"
      address: auto
      ValueType: bool
      description: "Boolean indicating if the discharge FET is active. `true` indicates active, `false` indicates inactive."
    Alarm:
      name: "Alarm"
      address: auto
      ValueType: bool[8]
      description: "Array of boolean values indicating which alarms are active. The array is ordered as follows: `Low Voltage`, `High Voltage`, `Low Cell Voltage`, `High Cell Voltage`, `Low SOC`, `High Charge Current`, `High Discharge Current`, `Temperatur`. `true` indicates active, `false` indicates inactive. Alams not supported by the hardware are always `false`."
    Warning:
      name: "Warning"
      address: auto
      ValueType: bool[8]
      description: "Array of boolean values indicating which warnings are active. The array is ordered as follows: `Low Voltage`, `High Voltage`, `Low Cell Voltage`, `High Cell Voltage`, `Low SOC`, `High Charge Current`, `High Discharge Current`, `Temperatur`. `true` indicates active, `false` indicates inactive. Warnings not supported by the hardware are always `false`."

cells:
  address: auto
  registers:
    Cell_Voltage:
      name: "Cell Voltage"
      offset: auto
      ValueType: float32
      description: "Voltage of cell."
      unit: "V"
    Cell_Balance_Status:
      name: "Cell Balance Status"
      offset: auto
      ValueType: bool
      description: "Boolean indicating if the cells balancer is active. `true` indicates active, `false` indicates inactive."
